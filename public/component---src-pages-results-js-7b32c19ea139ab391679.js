(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"0YtT":function(t,e,a){"use strict";a.r(e);var r=a("kD0k"),n=a.n(r),i=(a("ls82"),a("9Hrx")),o=a("/S4K"),s=a("q1tI"),l=a.n(s),c=a("Bl7J"),m=a("robv"),u=a("JOtS"),d=a.n(u),p=function(t){function e(e){var a;return(a=t.call(this,e)||this).state={x:e.x,y:e.y,width:e.width},a}return Object(i.a)(e,t),e.prototype.render=function(){return console.log(this.state),l.a.createElement(d.a,{data:[{type:"scatter",x:this.state.x,y:this.state.y,mode:"lines+markers",marker:{color:"red"},line:{shape:"spline"}}],layout:{title:"Titration Curve",autosize:!0,xaxis:{title:"pH",showgrid:!1,zeroline:!0},yaxis:{title:"Protonation",showline:!1}},style:{width:"100%",height:"100%"},config:{displayModeBar:!1,responsive:!0}})},e}(l.a.Component),b=a("M5Ap"),f=a.n(b),h=a("eMp/"),y=a.n(h),v=(a("rM0B"),a("dF3G")),g=a.n(v),E=a("vDqi"),x=a.n(E),k=function(t){this.saveSubmission=function(t,e){localStorage.setItem(t,JSON.stringify(e))},this.state={subID:t,pKas:[],tit_x:[],tit_y:[],params:"",pdb_out:null};var e=JSON.parse(localStorage.getItem(t));e&&(this.state.pKas=e.pKas,this.state.tit_x=e.titration[0],this.state.tit_y=e.titration[1],this.state.params=e.parameters,this.state.pdb_out=e.pdb_out)},w=a("H2TA"),N=a("R/WZ"),j=a("k1TG"),O=a("aXB2"),_=a("iuhU"),D=a("NqtD");function S(t){var e,a,r;return e=t,a=0,r=1,t=(Math.min(Math.max(a,e),r)-a)/(r-a),t=(t-=1)*t*t+1}var C=s.forwardRef((function(t,e){var a,r=t.classes,n=t.className,i=t.color,o=void 0===i?"primary":i,l=t.disableShrink,c=void 0!==l&&l,m=t.size,u=void 0===m?40:m,d=t.style,p=t.thickness,b=void 0===p?3.6:p,f=t.value,h=void 0===f?0:f,y=t.variant,v=void 0===y?"indeterminate":y,g=Object(O.a)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),E={},x={},k={};if("determinate"===v||"static"===v){var w=2*Math.PI*((44-b)/2);E.strokeDasharray=w.toFixed(3),k["aria-valuenow"]=Math.round(h),"static"===v?(E.strokeDashoffset="".concat(((100-h)/100*w).toFixed(3),"px"),x.transform="rotate(-90deg)"):(E.strokeDashoffset="".concat((a=(100-h)/100,a*a*w).toFixed(3),"px"),x.transform="rotate(".concat((270*S(h/70)).toFixed(3),"deg)"))}return s.createElement("div",Object(j.a)({className:Object(_.a)(r.root,n,"inherit"!==o&&r["color".concat(Object(D.a)(o))],{indeterminate:r.indeterminate,static:r.static}[v]),style:Object(j.a)({width:u,height:u},x,d),ref:e,role:"progressbar"},k,g),s.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},s.createElement("circle",{className:Object(_.a)(r.circle,c&&r.circleDisableShrink,{indeterminate:r.circleIndeterminate,static:r.circleStatic}[v]),style:E,cx:44,cy:44,r:(44-b)/2,fill:"none",strokeWidth:b})))})),I=Object(w.a)((function(t){return{root:{display:"inline-block"},static:{transition:t.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:t.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(C),K=a("ye/S"),B=a("tr08"),P=s.forwardRef((function(t,e){var a=t.classes,r=t.className,n=t.color,i=void 0===n?"primary":n,o=t.value,l=t.valueBuffer,c=t.variant,m=void 0===c?"indeterminate":c,u=Object(O.a)(t,["classes","className","color","value","valueBuffer","variant"]),d=Object(B.a)(),p={},b={bar1:{},bar2:{}};if("determinate"===m||"buffer"===m)if(void 0!==o){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;var f=o-100;"rtl"===d.direction&&(f=-f),b.bar1.transform="translateX(".concat(f,"%)")}else 0;if("buffer"===m)if(void 0!==l){var h=(l||0)-100;"rtl"===d.direction&&(h=-h),b.bar2.transform="translateX(".concat(h,"%)")}else 0;return s.createElement("div",Object(j.a)({className:Object(_.a)(a.root,a["color".concat(Object(D.a)(i))],r,{determinate:a.determinate,indeterminate:a.indeterminate,buffer:a.buffer,query:a.query}[m]),role:"progressbar"},p,{ref:e},u),"buffer"===m?s.createElement("div",{className:Object(_.a)(a.dashed,a["dashedColor".concat(Object(D.a)(i))])}):null,s.createElement("div",{className:Object(_.a)(a.bar,a["barColor".concat(Object(D.a)(i))],("indeterminate"===m||"query"===m)&&a.bar1Indeterminate,{determinate:a.bar1Determinate,buffer:a.bar1Buffer}[m]),style:b.bar1}),"determinate"===m?null:s.createElement("div",{className:Object(_.a)(a.bar,("indeterminate"===m||"query"===m)&&a.bar2Indeterminate,"buffer"===m?[a["color".concat(Object(D.a)(i))],a.bar2Buffer]:a["barColor".concat(Object(D.a)(i))]),style:b.bar2}))})),H=Object(w.a)((function(t){var e=function(e){return"light"===t.palette.type?Object(K.d)(e,.62):Object(K.a)(e,.5)},a=e(t.palette.primary.main),r=e(t.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:a},colorSecondary:{backgroundColor:r},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:t.palette.primary.main},barColorSecondary:{backgroundColor:t.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(P),A=Object(w.a)({root:{color:"#0e97ff"}})(I),T=Object(w.a)({colorPrimary:{backgroundColor:"#9ad2ff"},barColorPrimary:{backgroundColor:"#0e97ff"}})(H),M=Object(N.a)((function(t){return{root:{flexGrow:1,margin:0,textAlign:"center"},margin:{margin:t.spacing(1)}}})),R=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).state={update_step:50/e.props.run_time,value:0},e}Object(i.a)(e,t);var a=e.prototype;return a.componentDidMount=function(){var t=this;setInterval((function(){t.setState({value:t.state.value+t.state.update_step})}),500)},a.render=function(){return l.a.createElement("div",{className:M.root},l.a.createElement(T,{className:M.root,variant:"determinate",value:this.state.value}))},e}(l.a.Component);function z(){var t=M();return l.a.createElement("div",{className:t.root},l.a.createElement(A,{size:30,thickness:4}))}function F(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return q(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=t[Symbol.iterator]()).next.bind(a)}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function J(t,e,a){var r=new Blob([t],{type:e}),n=document.createElement("a");n.download=a,n.href=URL.createObjectURL(r),n.dataset.downloadurl=[e,n.download,n.href].join(":"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((function(){URL.revokeObjectURL(n.href)}),1500)}function U(t){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(n.a.mark((function t(e){var a,r,i,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},r={subID:e.subID,pdb:e.pdb,inputNamingScheme:e.inputNamingScheme,outputpKs:e.outputpKs,outputfile:e.outputfile,outputNamingScheme:e.outputNamingScheme,outputFilepH:e.outputFilepH,pHmin:e.pHmin,pHmax:e.pHmax,pHstep:e.pHstep,epsin:e.epsin,epsout:e.epsout,ionic:e.ionic,email:e.email},console.log(r),t.prev=3,t.next=6,x.a.post("http://127.0.0.1:5000/submitSim",r,a);case 6:return i=t.sent,o=i.data,console.log(o),t.abrupt("return",o);case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))).apply(this,arguments)}function $(){return($=Object(o.a)(n.a.mark((function t(e,a){var r,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e.state);case 2:r=t.sent,i=r.titration,e.setState({tit_x:i[0],tit_y:i[1],pKas:r.pKas,params:r.parameters,pdb_out:r.pdb_out,titdatarevision:2}),a.saveSubmission(e.state.subID,r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var G=function(t){if(t.pKas)var e=t.pKas.map((function(t){return l.a.createElement("tr",{key:t[2]+t[1]},l.a.createElement("th",{scope:"row"},t[0]),l.a.createElement("td",null,t[1]),l.a.createElement("td",null,t[2]),l.a.createElement("td",null,t[3]))})),a="";else e=l.a.createElement("tr",null),a=l.a.createElement(z,null);return l.a.createElement("div",null,l.a.createElement("table",{className:"table table-hover",style:{textAlign:"center"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Chain"),l.a.createElement("th",null,"Residue Name"),l.a.createElement("th",null,"Residue Number"),l.a.createElement("th",null,"p",l.a.createElement("em",null,"K"),l.a.createElement("sub",null,"a")))),l.a.createElement("tbody",null,e)),a)},X=function(t){function e(e){var a;return(a=t.call(this,e)||this).DownloadTitration=function(){var t="pH;pKa\n";for(var e in a.state.tit_y){var r=a.state.tit_x[e],n=a.state.tit_y[e];t=t.concat(r+";"+n+"\n")}console.log(t),J(t,"text/csv","titration.csv")},a.DownloadpKTable=function(){for(var t,e="Chain;Type;Number;pKa\n",r=F(a.state.pKas);!(t=r()).done;){var n=t.value;e=e.concat((n+"\n").split(",").join(";"))}console.log(e),J(e,"text/csv","pKs.csv")},a.DownloadParams=function(){J(a.state.params.split(",").join("").split(":").join("=").split("{").join("").split("}").join("").split(" '").join("").split("'").join(""),"text/txt","params.txt")},a.DownloadPDB=function(){J(a.state.pdb_out,"text/txt","pdb_"+a.state.outputFilepH+".out")},"undefiend"!=typeof window&&(state=e.location.state.send_json),a}Object(i.a)(e,t);var a=e.prototype;return a.componentDidMount=function(){var t=new k(this.state.subID);console.log(t),0!==t.state.pKas.length&&0!==t.state.tit_x.length&&0!==t.state.tit_y.length?this.setState({pKas:t.state.pKas,tit_x:t.state.tit_x,tit_y:t.state.tit_y,params:t.state.params,pdb_out:t.state.pdb_out,titdatarevision:1}):function(t,e){$.apply(this,arguments)}(this,t);var e,a,r=document,n=r.getElementById,i=r.createElement,o=r.getElementsByTagName,s="typef_orm_share";n.call(r,s)||((e=i.call(r,"script")).id=s,e.src="https://embed.typeform.com/embed.js",(a=o.call(r,"script")[0]).parentNode.insertBefore(e,a))},a.render=function(){return console.log(this.state.titdatarevision),l.a.createElement(c.a,null,l.a.createElement(m.a,{image:f.a,title:"Results",subtitle:""}),this.state.pKas?"":l.a.createElement(R,{run_time:this.state.time_estimate}),l.a.createElement("section",{id:"basic",className:"section bb-1"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row gap-y"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"card shadow-4 "+y.a.card},l.a.createElement("div",{className:"card-body "+y.a.cardBody},l.a.createElement("h2",null,this.state.protein_name),l.a.createElement("div",{className:"row gap-y"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("p",null,"Number of Titrable Sites: ",this.state.nsites),l.a.createElement("p",null,"Number of Chains: ",this.state.nchains),l.a.createElement("p",null,"Number of Amino Acids"),this.state.pdb_out?l.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:this.DownloadPDB},"PDB at pH ",this.state.outputFilepH," "):""),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("p",null,"pH range: ",this.state.pHmin,"-",this.state.pHmax),l.a.createElement("p",null,"Protein Dielectric: ",this.state.epsin),l.a.createElement("p",null,"Solvent Dielectric: ",this.state.epsout),this.state.params?l.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:this.DownloadParams},"All Parameters"):"")))),l.a.createElement("br",null),l.a.createElement("div",{className:"card shadow-4 "+y.a.card},this.state.tit_x?l.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:this.DownloadTitration},"Download CSV"):"",l.a.createElement("div",{className:"card-body "+y.a.cardBody},this.state.tit_x?l.a.createElement(p,{x:this.state.tit_x,y:this.state.tit_y,width:"100px",revision:this.state.titdatarevision}):l.a.createElement("div",null,l.a.createElement("h5",null,"Titration Curve"),l.a.createElement(z,null))))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"card shadow-4 "+y.a.card},this.state.tit_x?l.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:this.DownloadpKTable},"Download CSV"):"",l.a.createElement("div",{className:"card-body "+y.a.cardBody},l.a.createElement(G,{pKas:this.state.pKas}))))))),l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row gap-y align-items-center"},l.a.createElement("div",{className:"col-md-6 text-center"},l.a.createElement("img",{src:g.a,alt:"..."})),l.a.createElement("div",{className:"col-md-6 text-center text-md-left"},l.a.createElement("h2",null,"Help us design better analysis"),l.a.createElement("p",{className:"lead mb-6"},"Let us know what other plots and data you would like to see"),l.a.createElement("p",null,l.a.createElement("a",{className:"btn btn-lg btn-round btn-info typeform-share button",href:"https://hdcalgarve.typeform.com/to/jGgOaU","data-mode":"popup",target:"_blank"},"Reach Out")))))))},e}(l.a.Component);e.default=X},JOtS:function(t,e){},dF3G:function(t,e,a){t.exports=a.p+"static/graph_design-89e5a37ab700984f3f8a629ddd623b36.png"},rM0B:function(t,e,a){}}]);
//# sourceMappingURL=component---src-pages-results-js-7b32c19ea139ab391679.js.map